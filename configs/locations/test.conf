# =============================================================================
# Integration Test Endpoints
# =============================================================================

# Module tests
location ~ ^/test/modules/(?<module>[^/]+)/(?<test_name>[^/]+)$ {
    default_type 'text/plain';
    content_by_lua_block {
        local test_utils = require "tests.core.test_utils"
        local test_module = require("tests.modules." .. ngx.var.module .. "." .. ngx.var.test_name)
        test_utils.run_suite(ngx.var.test_name, test_module.tests)
    }
} 