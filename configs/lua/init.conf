# Lua Initialization Configuration
# -----------------------------------------------------------------------------

# Lua initialization
init_by_lua_block {
    -- Initialize UUID generator
    local uuid = require "resty.jit-uuid"
    uuid.seed()

    -- Initialize start time for uptime tracking
    local stats = ngx.shared.stats
    stats:set("start_time", ngx.now())
}

# init_worker_by_lua_block {
#     -- Initialize health check stats
#     local health_check = require "middleware.health"
#     health_check.init_worker()
# }

# Log phase handler to update request stats
# log_by_lua_block {
#     local health_check = require "middleware.health"
#     if health_check.update_stats then
#         health_check.update_stats()
#     end
# } 