# =============================================================================
# Hadish API Gateway - Main Configuration File
# =============================================================================
# This configuration file sets up a secure API Gateway using OpenResty/Nginx
# with Lua modules for advanced functionality including:
# - CORS handling
# - Rate limiting
# - Request validation
# - Health monitoring
# - Security headers
# - Logging and monitoring
# =============================================================================

# Core Configuration
include core/env.conf;
include core/settings.conf;

# HTTP Configuration
http {
    # Basic HTTP Settings
    include http/proxy.conf;
    include http/security.conf;
    include http/compression.conf;
    include http/lua.conf;

    # MIME Types
    include /usr/local/openresty/nginx/conf/mime.types;
    default_type application/octet-stream;

    # Server Configuration
    server {
        # Server Settings
        include server/settings.conf;
        include server/handlers.conf;

        # Location Handlers
        include locations/errors.conf;
        include locations/default.conf;
        include locations/admin.conf;
        include locations/health.conf;
    }
} 